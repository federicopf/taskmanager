# Configurazione per sviluppo con DevTools
# Hot reload automatico per modifiche Java

# DevTools configurazione
spring.devtools.restart.enabled=true
spring.devtools.livereload.enabled=true
spring.devtools.restart.poll-interval=1000
spring.devtools.restart.quiet-period=400
spring.devtools.restart.additional-paths=src/main/java
spring.devtools.restart.exclude=static/**,public/**,resources/**

# Logging per vedere quando DevTools rileva cambiamenti
logging.level.org.springframework.boot.devtools=DEBUG
logging.level.org.springframework.boot.devtools.restart=DEBUG

# Configurazione JPA per sviluppo
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Configurazione database (usa variabili d'ambiente con valori di default)
spring.datasource.url=jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:taskdb}
spring.datasource.username=${DB_USERNAME:taskuser}
spring.datasource.password=${DB_PASSWORD:taskpass}
spring.datasource.driver-class-name=org.postgresql.Driver

# Configurazione Flyway
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration

# Configurazione server
server.port=8080
